<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Formulário de Contato</title>
  <style>
    :root {
      /* Paleta de Cores Dark */
      --background-dark: #1a1a2e; /* Azul escuro bem profundo */
      --form-background: #16213e; /* Azul um pouco mais claro para o formulário */
      --text-color: #e0e0e0; /* Cinza claro para o texto */
      --input-background: #0f3460; /* Azul escuro para os inputs */
      --input-border: #007bff; /* Azul vibrante para as bordas */
      --button-background: #e94560; /* Vermelho vibrante para o botão */
      --button-hover-background: #b02a3d; /* Vermelho mais escuro no hover */
      --button-text-color: #ffffff; /* Branco para o texto do botão */
      --link-color: #007bff; /* Azul para links */
      --link-hover-color: #61dafb; /* Azul claro no hover do link */
      --message-background: #232946; /* Cor de fundo para a mensagem de resposta */
      --message-text-color: #ffffff; /* Cor do texto da mensagem */
      --footer-color: #a0a0a0; /* Cinza para o rodapé */
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--background-dark);
      padding: 0;
      margin: 0;
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      overflow: hidden;
      position: relative;
    }

    canvas#universeCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .content-wrapper {
      position: relative;
      z-index: 1;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2rem;
      box-sizing: border-box;
    }

    form {
      background: var(--form-background);
      padding: 2.5rem;
      border-radius: 12px;
      max-width: 550px;
      width: 100%;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
      margin-bottom: 2rem;
    }

    h2 {
      color: var(--text-color);
      text-align: center;
      margin-bottom: 2rem;
      font-size: 2rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
      color: var(--text-color);
    }

    input, textarea {
      display: block;
      width: calc(100% - 1.7rem);
      margin-bottom: 1.5rem;
      padding: 0.85rem;
      border: 1px solid var(--input-border);
      border-radius: 8px;
      background: var(--input-background);
      color: var(--text-color);
      font-size: 1rem;
      transition: border-color 0.3s ease, background-color 0.3s ease;
    }

    input:focus, textarea:focus {
      border-color: var(--link-hover-color);
      background-color: #123e71;
      outline: none;
    }

    textarea {
      resize: vertical;
      min-height: 120px;
    }

    .form-submit-button {
      display: block;
      width: 100%;
      margin-top: 1.5rem;
      padding: 1rem;
      background: var(--button-background);
      color: var(--button-text-color);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: bold;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .form-submit-button:hover {
      background: var(--button-hover-background);
      transform: translateY(-2px);
    }

    .mensagem {
      max-width: 550px;
      width: 100%;
      padding: 2.5rem;
      border-radius: 12px;
      background-color: var(--message-background);
      text-align: center;
      display: none;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
      color: var(--message-text-color);
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 2rem;
    }

    .mensagem button {
      background: var(--link-color);
      margin-top: 1.5rem;
    }

    .mensagem button:hover {
      background: var(--link-hover-color);
    }

    .linkedin-button {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      background: #0077B5;
      color: #ffffff;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s ease, transform 0.3s ease;
      margin-top: auto;
      margin-bottom: 1rem;

      animation: pulse 2s infinite ease-in-out;
    }

    .linkedin-button:hover {
      background: #005f93;
      transform: scale(1.02);
      animation: none;
    }

    .linkedin-button svg {
      fill: #ffffff;
      width: 20px;
      height: 20px;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.01);
      }
      100% {
        transform: scale(1);
      }
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: var(--footer-color);
      opacity: 0.8;
      padding-bottom: 1rem;
    }
  </style>
</head>
<body>

  <canvas id="universeCanvas"></canvas>

  <div class="content-wrapper">
    <form id="formulario" action="https://formsubmit.co/rafaelgraffo@gmail.com" method="POST">
      <h2>Entre em Contato</h2>
      <label for="nome">Nome:</label>
      <input type="text" id="nome" name="nome" placeholder="Seu nome completo" required />

      <label for="email">E-mail:</label>
      <input type="email" id="email" name="email" placeholder="seuemail@exemplo.com" required />

      <label for="mensagem">Mensagem:</label>
      <textarea id="mensagem" name="mensagem" placeholder="Deixe sua mensagem aqui..." required></textarea>

      <input type="hidden" name="_captcha" value="false">

      <button type="submit" class="form-submit-button">Enviar Mensagem</button>
    </form>

    <div class="mensagem" id="resposta">
      <p id="mensagem-texto"></p>
      <button onclick="refazerFormulario()">Fazer Outro Envio</button>
    </div>

    <a href="https://www.linkedin.com/in/rafaelgraffo/" target="_blank" class="linkedin-button">
      <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path d="M16 8C17.1 8 18 8.9 18 10V18H15V10C15 9.46304 14.7893 8.94893 14.4142 8.57487C14.0391 8.20081 13.525 8 13 8C12.475 8 11.9609 8.20081 11.5858 8.57487C11.2107 8.94893 11 9.46304 11 10V18H8V8H11V9.5C11.5 8.7 12.5 8 13 8C13.5 8 14.5 8 15 8H16Z"/>
        <path d="M6 18H3V8H6V18Z"/>
        <path d="M4.5 6.5C5.32843 6.5 6 5.82843 6 5C6 4.17157 5.32843 3.5 4.5 3.5C3.67157 3.5 3 4.17157 3 5C3 5.82843 3.67157 6.5 4.5 6.5Z"/>
      </svg>
      Meu LinkedIn: Rafael Graffo
    </a>

    <footer>
      Desenvolvido com ❤️ por Rafael Soares (RafaelGraffo) © 2025
    </footer>
  </div>

  <script>
    // --- Lógica do Canvas (Universo Estrelar) ---
    const canvas = document.getElementById('universeCanvas');
    const ctx = canvas.getContext('2d');
    let width, height;

    const setCanvasSize = () => {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    };

    window.addEventListener('resize', setCanvasSize);
    setCanvasSize(); // Define o tamanho inicial do canvas

    class Star {
      constructor() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.radius = Math.random() * 1.5 + 0.5;
        this.alpha = Math.random();
        this.velocity = { x: (Math.random() - 0.5) * 0.05, y: (Math.random() - 0.5) * 0.05 };
        this.twinkleSpeed = Math.random() * 0.02 + 0.005;
        this.twinkleDirection = Math.random() > 0.5 ? 1 : -1;
      }
      draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
        ctx.fill();
      }
      update() {
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        if (this.x < 0) this.x = width;
        if (this.x > width) this.x = 0;
        if (this.y < 0) this.y = height;
        if (this.y > height) this.y = 0;
        this.alpha += this.twinkleSpeed * this.twinkleDirection;
        if (this.alpha > 1 || this.alpha < 0) {
          this.twinkleDirection *= -1;
          this.alpha = Math.max(0, Math.min(1, this.alpha));
        }
      }
    }

    class Planet {
      constructor(x, y, size, imageUrl, velocityX, velocityY) {
        this.x = x * width;
        this.y = y * height;
        this.size = size;
        this.image = new Image();
        this.image.src = imageUrl;
        this.image.onload = () => {
          this.loaded = true;
        };
        this.image.onerror = () => {
          console.error(`Erro ao carregar imagem do planeta: ${imageUrl}`);
          this.loaded = false;
        };
        this.loaded = false;
        this.velocity = { x: velocityX, y: velocityY };
      }

      draw() {
        if (this.loaded) {
          // Desenha a imagem centralizada
          ctx.drawImage(this.image, this.x - this.size / 2, this.y - this.size / 2, this.size, this.size);
        } else {
          // Fallback para um círculo se a imagem não carregar
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size / 2, 0, Math.PI * 2);
          ctx.fillStyle = 'rgba(100, 100, 100, 0.5)';
          ctx.fill();
        }
      }

      update() {
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        if (this.x - this.size / 2 > width) this.x = -this.size / 2;
        if (this.x + this.size / 2 < 0) this.x = width + this.size / 2;
        if (this.y - this.size / 2 > height) this.y = -this.size / 2;
        if (this.y + this.size / 2 < 0) this.y = height + this.size / 2;
      }
    }

    class Meteor {
      constructor() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.length = Math.random() * 50 + 20;
        this.speed = Math.random() * 2 + 0.5;
        this.angle = Math.PI / 4;
        this.alpha = 1;
        this.fadeSpeed = Math.random() * 0.01 + 0.005;
        this.visible = true;
      }
      draw() {
        if (!this.visible) return;
        ctx.beginPath();
        ctx.moveTo(this.x, this.y);
        ctx.lineTo(this.x + Math.cos(this.angle) * this.length, this.y + Math.sin(this.angle) * this.length);
        ctx.strokeStyle = `rgba(255, 255, 255, ${this.alpha})`;
        ctx.lineWidth = 1.5;
        ctx.stroke();
      }
      update() {
        if (!this.visible) {
          this.reset();
          return;
        }
        this.x -= this.speed * Math.cos(this.angle);
        this.y -= this.speed * Math.sin(this.angle);
        this.alpha -= this.fadeSpeed;
        if (this.alpha <= 0 || this.x < -this.length || this.y < -this.length) {
          this.visible = false;
        }
      }
      reset() {
        this.x = Math.random() * width * 1.5 + width / 2;
        this.y = Math.random() * height / 2 - this.length;
        this.alpha = 1;
        this.speed = Math.random() * 2 + 0.5;
        this.fadeSpeed = Math.random() * 0.01 + 0.005;
        this.visible = true;
      }
    }

    class SpaceObject {
      constructor(x, y, scale, color, velocityX, velocityY, shapeType = 'ship') {
        this.x = x * width;
        this.y = y * height;
        this.scale = scale;
        this.color = color;
        this.velocity = { x: velocityX, y: velocityY };
        this.shapeType = shapeType;
        this.opacity = 0.5;
      }
      draw() {
        ctx.fillStyle = `rgba(${parseInt(this.color.slice(1,3), 16)}, ${parseInt(this.color.slice(3,5), 16)}, ${parseInt(this.color.slice(5,7), 16)}, ${this.opacity})`;
        ctx.beginPath();
        if (this.shapeType === 'ship') {
          ctx.moveTo(this.x, this.y);
          ctx.lineTo(this.x + 20 * this.scale, this.y + 5 * this.scale);
          ctx.lineTo(this.x + 15 * this.scale, this.y + 15 * this.scale);
          ctx.lineTo(this.x + 5 * this.scale, this.y + 15 * this.scale);
          ctx.lineTo(this.x - 5 * this.scale, this.y + 5 * this.scale);
          ctx.closePath();
        } else {
          ctx.arc(this.x, this.y, 10 * this.scale, 0, Math.PI * 2);
          ctx.arc(this.x - 5 * this.scale, this.y - 8 * this.scale, 3 * this.scale, 0, Math.PI * 2);
          ctx.arc(this.x + 5 * this.scale, this.y - 8 * this.scale, 3 * this.scale, 0, Math.PI * 2);
        }
        ctx.fill();
      }
      update() {
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        if (this.x - 30 * this.scale > width) this.x = -30 * this.scale;
        if (this.x + 30 * this.scale < 0) this.x = width + 30 * this.scale;
        if (this.y - 30 * this.scale > height) this.y = -30 * this.scale;
        if (this.y + 30 * this.scale < 0) this.y = height + 30 * this.scale;
      }
    }

    const stars = [];
    const planets = [];
    const meteors = [];
    const spaceObjects = [];

    const numStars = 200;
    for (let i = 0; i < numStars; i++) {
      stars.push(new Star());
    }

    // Planetas agora usam imagens de exemplo
    planets.push(new Planet(0.15, 0.75, 100, 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Mars_-_August_2020_-_%28cropped%29.jpg/800px-Mars_-_August_2020_-_%28cropped%29.jpg', 0.05, -0.02));
    planets.push(new Planet(0.8, 0.2, 140, 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Saturn_during_Equinox.jpg/800px-Saturn_during_Equinox.jpg', -0.03, 0.01));
    planets.push(new Planet(0.4, 0.9, 70, 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Earth_from_Apollo_17.jpg/800px-Earth_from_Apollo_17.jpg', 0.02, 0.03));

    const numMeteors = 3;
    for (let i = 0; i < numMeteors; i++) {
      meteors.push(new Meteor());
    }

    spaceObjects.push(new SpaceObject(0.9, 0.1, 1.2, '#666666', -0.01, 0.005, 'ship'));
    spaceObjects.push(new SpaceObject(0.2, 0.8, 0.9, '#555555', 0.005, -0.01, 'alien'));
    spaceObjects.push(new SpaceObject(0.5, 0.3, 1.0, '#777777', 0.01, 0.002, 'ship'));

    // ESTA É A CHAMADA QUE INICIA A ANIMAÇÃO
    function animateUniverse() {
      ctx.clearRect(0, 0, width, height); // Limpa o canvas

      stars.forEach(star => {
        star.update();
        star.draw();
      });
      planets.forEach(planet => {
        planet.update();
        planet.draw();
      });
      meteors.forEach(meteor => {
        meteor.update();
        meteor.draw();
      });
      spaceObjects.forEach(obj => {
        obj.update();
        obj.draw();
      });

      // ESTA LINHA É FUNDAMENTAL: SOLICITA O PRÓXIMO FRAME PARA CONTINUAR A ANIMAÇÃO
      requestAnimationFrame(animateUniverse);
    }
    animateUniverse(); // Esta linha chama a função pela primeira vez para iniciar o ciclo de animação

    // --- Lógica do Formulário ---
    const form = document.getElementById('formulario');
    const resposta = document.getElementById('resposta');
    const mensagemTexto = document.getElementById('mensagem-texto');

    form.addEventListener('submit', async function (event) {
      event.preventDefault();

      const dados = new FormData(form);

      try {
        const respostaFetch = await fetch(form.action, {
          method: 'POST',
          body: dados,
          headers: {
            'Accept': 'application/json'
          }
        });

        if (respostaFetch.ok) {
          form.style.display = 'none';
          mensagemTexto.innerText = '✅ Mensagem enviada com sucesso! Em breve entrarei em contato.';
          resposta.style.display = 'block';
        } else {
          throw new Error('Erro no envio');
        }

      } catch (erro) {
        form.style.display = 'none';
        mensagemTexto.innerText = '❌ Ops! Ocorreu um erro ao enviar a mensagem. Por favor, tente novamente mais tarde.';
        resposta.style.display = 'block';
      }
    });

    function refazerFormulario() {
      window.location.reload();
    }
  </script>

</body>
</html>